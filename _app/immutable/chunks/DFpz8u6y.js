import{f as A,h as n,j as k,a7 as y,H as R,k as q,i as x,m as E,p as b,q as u,v as o,o as I,a8 as L,a9 as D,aa as F,b as H,x as O,ab as Y}from"./Cqs9E0i1.js";function B(s,r,e=!1){n&&k();var i=s,f=null,a=null,c=L,N=e?y:0,l=!1;const S=(h,t=!0)=>{l=!0,T(t,h)},T=(h,t)=>{if(c===(c=h))return;let d=!1;if(n){const _=i.data===R;!!c===_&&(i=q(),x(i),E(!1),d=!0)}c?(f?b(f):t&&(f=u(()=>t(i))),a&&o(a,()=>{a=null})):(a?b(a):t&&(a=u(()=>t(i))),f&&o(f,()=>{f=null})),d&&E(!0)};A(()=>{l=!1,r(S),l||T(null,null)},N),n&&(i=I)}function C(s,r,e){n&&k();var i=s,f,a;A(()=>{f!==(f=r())&&(a&&(o(a),a=null),f&&(a=u(()=>e(i,f))))},y),n&&(i=I)}function v(s,r){return s===r||(s==null?void 0:s[Y])===r}function M(s={},r,e,i){return D(()=>{var f,a;return F(()=>{f=a,a=(i==null?void 0:i())||[],H(()=>{s!==e(...a)&&(r(s,...a),f&&v(e(...f),s)&&r(null,...f))})}),()=>{O(()=>{a&&v(e(...a),s)&&r(null,...a)})}}),s}export{M as b,C as c,B as i};
